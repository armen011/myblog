(this.webpackJsonpmyblog=this.webpackJsonpmyblog||[]).push([[0],{88:function(t,e,n){},89:function(t,e,n){},97:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),r=n(10),o=n.n(r),s=(n(88),n(89),n(48)),c=n(11),l=n(17),d=n(18),u=n(20),m=n(19),p=n(60),j=n(136),x=n(137),h=n(138),f=n(139),b=n(75),g=n.n(b),O=n(146),v=n(76),w="JsForYou",y="Log in",C="Log out",S="Profile",I="Registration",N="Registration",k="Name",B="Surname",T="Email",P="Password",q="ConfirmPass",z="Register",D="Login",W="Email",M="Password",A="Login",E=n(132),H=Object(E.a)((function(t){return{root:{flexGrow:1},menuButton:{marginRight:t.spacing(2)},title:{fontSize:"33px",fontWeight:"600",flexGrow:1,cursor:"pointer"}}}));function L(){return(new Date).toISOString().slice(0,10)}function G(t){return 0===t.length?1:parseInt(t[t.length-1].id)+1}function J(t){return localStorage[t]?JSON.parse(localStorage[t]):null}function R(t,e){localStorage[t]=JSON.stringify(e)}function F(t,e){sessionStorage[t]=JSON.stringify(e)}function Y(t){return sessionStorage[t]?JSON.parse(sessionStorage[t]):null}function _(t){for(var e=t.split(""),n=0;n<e.length;n++)e[n]=0===n?e[n].toUpperCase():e[n].toLowerCase();return e.join("")}var K=n(2);function U(){var t=H(),e=i.a.useState(!0),n=Object(p.a)(e,2),a=n[0],r=(n[1],i.a.useState(null)),o=Object(p.a)(r,2),s=o[0],c=o[1],l=Boolean(s),d=function(){c(null)},u=Y("id")?Object(K.jsxs)("div",{children:[Object(K.jsx)(O.a,{onClick:function(){d(),window.location="/profile/id="+Y("id")},children:S}),Object(K.jsx)(O.a,{onClick:function(){d(),sessionStorage.clear(),window.location="/"},children:C})]}):Object(K.jsxs)("div",{children:[Object(K.jsx)(O.a,{onClick:function(){d(),window.location="/login"},children:y}),Object(K.jsx)(O.a,{onClick:function(){d(),window.location="/registration"},children:I})]});return Object(K.jsx)("div",{className:t.root,children:Object(K.jsx)(j.a,{position:"static",children:Object(K.jsxs)(x.a,{children:[Object(K.jsx)(h.a,{variant:"h1",className:t.title,onClick:function(){return window.location="/"},children:w}),a&&Object(K.jsxs)("div",{children:[Object(K.jsx)(f.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(t){c(t.currentTarget)},color:"inherit",children:Object(K.jsx)(g.a,{})}),Object(K.jsx)(v.a,{id:"menu-appbar",anchorEl:s,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:l,onClose:d,children:u})]})]})})})}var V=n(140),X=n(141),Q=n(143),Z=n(142),$=n(144),tt=Object(E.a)((function(t){return{root:{minWidth:"250px",maxHeight:"300px",margin:"10px"}}}));function et(t){var e=tt();return Object(K.jsxs)(V.a,{className:e.root,children:[Object(K.jsx)(X.a,{children:Object(K.jsxs)(Z.a,{children:[Object(K.jsx)(h.a,{gutterBottom:!0,variant:"h5",component:"h2",children:t.title}),Object(K.jsx)(h.a,{variant:"body2",color:"textSecondary",component:"p",children:t.text})]})}),Object(K.jsx)(Q.a,{children:Object(K.jsx)($.a,{size:"small",color:"primary",onClick:t.metod,children:"Write Comment"})})]})}var nt=Object(E.a)((function(t){return{root:{flexGrow:1,display:"flex",flexWrap:"wrap"},menuButton:{marginRight:t.spacing(2)},title:{fontSize:"33px",fontWeight:"600",flexGrow:1,cursor:"pointer"}}}));function at(t){var e=nt(),n=t.posts.map((function(e){return Object(K.jsx)(et,{title:e.title,text:e.text,metod:function(){return t.writeComment(e.id)}})}));return Object(K.jsx)("div",{className:e.root,children:n})}var it=function(t){Object(u.a)(n,t);var e=Object(m.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).state={posts:[]},t.writeComment=function(t){window.location="/comments/post_id="+t},t}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var t=J("posts");this.setState({posts:t})}},{key:"render",value:function(){return Object(K.jsxs)("div",{children:[Object(K.jsx)(U,{}),Object(K.jsx)(at,{posts:this.state.posts,writeComment:this.writeComment})]})}}]),n}(i.a.Component),rt=n(145),ot=Object(E.a)((function(t){return{title:{width:"450px",fontSize:"30px",textAlign:"center"},root:{flexGrow:1,width:"450px",position:"fixed",top:"80px",right:"0",left:"0",margin:"auto",display:"flex",flexWrap:"wrap",justifyContent:"space-around",padding:"10px"},small:{width:"200px",marginBottom:"20px"},big:{width:"425px",marginBottom:"20px"}}}));function st(t){var e=ot(),n=Object(K.jsx)($.a,{variant:"contained",color:"primary",className:e.btn,onClick:t.submit,children:z});return Object(K.jsxs)("div",{className:e.root,children:[Object(K.jsx)(h.a,{variant:"h1",className:e.title,children:N}),Object(K.jsx)(rt.a,{required:!0,id:"standard-required",label:k,className:e.small,value:t.state.name,onChange:function(e){return t.metod("name",e.target.value)}}),Object(K.jsx)(rt.a,{required:!0,id:"standard-required",label:B,className:e.small,value:t.state.surname,onChange:function(e){return t.metod("surname",e.target.value)}}),Object(K.jsx)(rt.a,{required:!0,id:"standard-required",label:T,className:e.big,value:t.state.email,onChange:function(e){return t.metod("email",e.target.value)}}),Object(K.jsx)(rt.a,{required:!0,id:"standard-required",label:P,className:e.small,type:"password",value:t.state.password,onChange:function(e){return t.metod("password",e.target.value)}}),Object(K.jsx)(rt.a,{required:!0,id:"standard-required",label:q,className:e.small,type:"password",value:t.state.confirmPassword,onChange:function(e){return t.metod("confirm",e.target.value)}}),n]})}var ct=function(t){Object(u.a)(n,t);var e=Object(m.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).state={name:"",surname:"",email:"",password:"",confirmPassword:""},t.handleChange=function(e,n){"name"===e&&(n=_(n),t.setState((function(t){return{name:n}}))),"surname"===e&&(n=_(n),t.setState((function(t){return{surname:n}}))),"email"===e&&t.setState((function(t){return{email:n}})),"password"===e&&t.setState((function(t){return{password:n}})),"confirm"===e&&t.setState((function(t){return{confirmPassword:n}}))},t.handleSubmit=function(){if(J("users")){var e=J("users");0===e.filter((function(e){return e.email===t.state.email})).length&&(e.push({id:G(e),name:t.state.name,surname:t.state.surname,email:t.state.email,password:t.state.password}),R("users",e),window.location="/login")}else{R("users",[{id:G([]),name:t.state.name,surname:t.state.surname,email:t.state.email,password:t.state.password}]),window.location="/login"}},t}return Object(d.a)(n,[{key:"render",value:function(){return Object(K.jsxs)("div",{children:[Object(K.jsx)(U,{}),Object(K.jsx)(st,{state:this.state,metod:this.handleChange,submit:this.handleSubmit})]})}}]),n}(i.a.Component),lt=Object(E.a)((function(t){return{title:{width:"450px",fontSize:"30px",textAlign:"center"},root:{flexGrow:1,width:"450px",position:"fixed",top:"80px",right:"0",left:"0",margin:"auto",display:"flex",flexWrap:"wrap",justifyContent:"space-around",padding:"10px"},big:{width:"425px",marginBottom:"20px"}}}));function dt(t){var e=lt(),n=Object(K.jsx)($.a,{variant:"contained",color:"primary",className:e.btn,onClick:t.submit,children:A});return Object(K.jsxs)("div",{className:e.root,children:[Object(K.jsx)(h.a,{variant:"h1",className:e.title,children:D}),Object(K.jsx)(rt.a,{required:!0,id:"standard-required",label:W,className:e.big,value:t.state.email,onChange:function(e){return t.metod("email",e.target.value)}}),Object(K.jsx)(rt.a,{required:!0,id:"standard-required",label:M,className:e.big,type:"password",value:t.state.password,onChange:function(e){return t.metod("password",e.target.value)}}),n]})}var ut=function(t){Object(u.a)(n,t);var e=Object(m.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).state={email:"",password:""},t.handleChange=function(e,n){"email"===e&&t.setState((function(t){return{email:n}})),"password"===e&&t.setState((function(t){return{password:n}}))},t.handleSubmit=function(){if(J("users")){var e=J("users").filter((function(e){return e.email===t.state.email&&e.password===t.state.password}));e.length>0&&(F("id",e[0].id),window.location="/profile/id="+e[0].id)}else window.location="/registration"},t}return Object(d.a)(n,[{key:"render",value:function(){return Object(K.jsxs)("div",{children:[Object(K.jsx)(U,{}),Object(K.jsx)(dt,{state:this.state,metod:this.handleChange,submit:this.handleSubmit})]})}}]),n}(i.a.Component),mt=n(53),pt=n.n(mt),jt=Object(E.a)((function(t){return{root:{minWidth:"250px",minHeight:"300px"}}}));function xt(t){var e=jt();return Object(K.jsxs)(V.a,{className:e.root,children:[Object(K.jsx)(X.a,{children:Object(K.jsxs)(Z.a,{children:[Object(K.jsx)(h.a,{gutterBottom:!0,variant:"h5",component:"h2",children:t.title}),Object(K.jsx)(h.a,{variant:"body2",color:"textSecondary",component:"p",children:t.text})]})}),Object(K.jsxs)(Q.a,{children:[Object(K.jsx)($.a,{size:"small",color:"primary",onClick:function(){return window.location="/comments/post_id="+t.postId},children:"View comments"}),Object(K.jsx)($.a,{size:"small",color:"primary",onClick:t.delete,children:"Delete post"})]})]})}var ht=n(43),ft=Object(E.a)((function(t){var e;return{title:{fontSize:"30px",marginBottom:"20px"},info:{fontSize:"18px"},root:(e={width:"900px",flexGrow:1},Object(ht.a)(e,"width","450px"),Object(ht.a)(e,"display","flex"),Object(ht.a)(e,"flexDirection","column"),Object(ht.a)(e,"padding","10px"),e),btn:{width:"140px",marginBottom:"20px"},posts:{width:"1000px",height:"300px",minHeight:"300px",display:"flex",overflowX:"auto",overflowY:"hidden"}}}));function bt(t){var e=ft(),n=t.state.myPosts.map((function(e){return Object(K.jsx)(xt,{title:e.title,text:e.text,delete:function(){return t.deletePost(e.id)},postId:e.id})}));return Object(K.jsxs)("div",{className:e.root,children:[Object(K.jsx)(h.a,{variant:"h3",className:e.title,children:t.state.name+" "+t.state.surname}),Object(K.jsx)($.a,{variant:"contained",color:"primary",startIcon:Object(K.jsx)(pt.a,{}),onClick:function(){return window.location="/addPosts"},className:e.btn,children:"AddPosts"}),Object(K.jsx)("div",{className:e.posts,children:n})]})}var gt=function(t){Object(u.a)(n,t);var e=Object(m.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).state={name:"",surname:"",myPosts:[]},t.handleDelet=function(e){var n=t.state.myPosts.filter((function(t){return t.id!==e}));t.setState({myPosts:n}),R("posts",n)},t}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var t=this,e=J("users"),n=J("posts"),a=e.filter((function(e){return e.id===parseInt(t.props.match.params.id)})),i=n.filter((function(e){return e.userId===parseInt(t.props.match.params.id)}));a.length>0&&(a=a[0],this.setState({name:a.name,surname:a.surname,email:a.email,myPosts:i}))}},{key:"render",value:function(){return Object(K.jsxs)("div",{children:[Object(K.jsx)(U,{}),Object(K.jsx)(bt,{state:this.state,deletePost:this.handleDelet})]})}}]),n}(i.a.Component),Ot=Object(E.a)({root:{width:"375px",position:"fixed",left:0,right:0,top:"100px",margin:"auto",display:"flex",flexDirection:"column",alignItems:"center"},title:{fontSize:25,textAlign:"center"},smallInp:{width:"180px",marginBottom:"20px"},bigInp:{width:"350px"}});function vt(t){var e=Ot();e.bullet;return Object(K.jsxs)(V.a,{className:e.root,variant:"outlined",children:[Object(K.jsxs)(Z.a,{children:[Object(K.jsx)(h.a,{className:e.title,color:"textSecondary",gutterBottom:!0,children:"Create your post"}),Object(K.jsx)(rt.a,{required:!0,id:"standard-required",label:"Title",className:e.smallInp,value:t.state.title,onChange:function(e){return t.metod("title",e.target.value)}}),Object(K.jsx)(rt.a,{id:"standard-multiline-flexible",label:"Your text here",multiline:!0,maxRows:4,className:e.bigInp,value:t.state.text,onChange:function(e){return t.metod("text",e.target.value)}})]}),Object(K.jsx)(Q.a,{children:Object(K.jsx)($.a,{variant:"contained",color:"primary",endIcon:Object(K.jsx)(pt.a,{}),onClick:t.submit,children:"Add"})})]})}var wt=function(t){Object(u.a)(n,t);var e=Object(m.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).state={userId:"",title:"",text:"",data:""},t.handleChange=function(e,n){"title"===e&&t.setState((function(t){return{title:n}})),"text"===e&&t.setState((function(t){return{text:n}}))},t.handleSubmit=function(){if(J("posts")){var e=J("posts");e.push({id:G(e),title:t.state.title,text:t.state.text,userId:t.state.userId,data:L()}),R("posts",e),window.location="/profile/id="+t.state.userId}else{R("posts",[{id:G([]),title:t.state.title,text:t.state.text,userId:t.state.userId}]),window.location="/profile/id="+t.state.userId}},t}return Object(d.a)(n,[{key:"componentDidMount",value:function(){Y("id")?this.setState({userId:Y("id")}):window.location="/login"}},{key:"render",value:function(){return Object(K.jsxs)("div",{children:[Object(K.jsx)(U,{}),Object(K.jsx)(vt,{state:this.state,metod:this.handleChange,submit:this.handleSubmit})]})}}]),n}(i.a.Component),yt=n(78),Ct=Object(E.a)((function(t){return{root:{maxWidth:"700px",minHeight:"100px",position:"absolute",right:0,left:0,top:"80px",margin:"auto",display:"flex",flexDirection:"column",alignItems:"center",flexWrap:"wrap",padding:"10px",border:".5px solid grey",marginBottom:"50px"},postBar:{maxWidth:"300px",padding:"10px",marginBottom:"20px"},commentBar:{width:"95%",height:"300px",border:"1px solid grey",marginBottom:"20px",overflow:"auto"},input:{width:"95%",minHeight:"50px"}}})),St=Object(E.a)((function(t){return{root:{width:"100%",minHeight:"60px",display:"flex",boxSizing:"border-box",padding:"7px"},flexEnd:{justifyContent:"flex-end",paddingRight:"10px"},flexStart:{justifyContent:"flex-start",paddingLeft:"10px"},msgHead:{fontSize:"12px",fontWeight:"600"},msg:{fontSize:"15px",padding:"10px",maxWidth:"45%",overflow:"hidden"}}}));function It(t){var e=St(),n=t.isMine?e.flexEnd:e.flexStart;return Object(K.jsx)("div",{className:e.root+" "+n,children:Object(K.jsxs)(yt.a,{elevation:3,className:e.msg,children:[Object(K.jsx)(h.a,{variant:"h5",className:e.msgHead,children:t.user}),Object(K.jsxs)(h.a,{variant:"p",children:[t.text," "]})]})})}function Nt(t){Object(a.useEffect)((function(){var t=document.getElementById("div");t.scrollTop=t.scrollHeight}),[t.comments]);var e=Ct();return console.log(t.comments),Object(K.jsxs)("div",{className:e.root,children:[Object(K.jsxs)(yt.a,{elevation:3,className:e.postBar,children:[Object(K.jsxs)(h.a,{variant:"h5",children:[t.title," "]}),Object(K.jsxs)(h.a,{variant:"p",children:[t.text," "]})]}),Object(K.jsx)("div",{className:e.commentBar,id:"div",children:t.comments.map((function(t){return Object(K.jsx)(It,{isMine:t.isMine,text:t.text,user:(e=t.userId,J("users").filter((function(t){return t.id===e}))[0].name)});var e}))}),Object(K.jsx)(rt.a,{id:"outlined-textarea",label:"Write your comment",multiline:!0,value:t.commentText,variant:"outlined",className:e.input,onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),t.submit())},onChange:function(e){t.metod(e.target.value);var n=document.getElementById("div");n.scrollTop=n.scrollHeight}})]})}var kt=function(t){Object(u.a)(n,t);var e=Object(m.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).state={userId:"",postId:"",postTitle:"",postText:"",postComments:[],commentText:""},t.handleChangeCommentText=function(e){t.setState({commentText:e})},t.handleSubmit=function(){var e=[];J("comments")?((e=J("comments")).push({id:G(e),postId:t.state.postId,userId:t.state.userId,text:t.state.commentText,data:L()}),R("comments",e)):(e.push({id:G(e),postId:t.state.postId,userId:t.state.userId,text:t.state.commentText,data:L()}),R("comments",e));var n=e.filter((function(e){return e.postId===t.state.postId})).map((function(e){return e.userId===t.state.userId?(e.isMine=!0,e):(e.isMine=!1,e)}));t.setState({postComments:n,commentText:""})},t}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var t=parseInt(Y("id")),e=parseInt(this.props.match.params.id),n=J("posts").filter((function(t){return t.id===e}))[0],a=[];J("comments")&&(a=J("comments").filter((function(t){return t.postId===e})).map((function(e){return e.userId===t?(e.isMine=!0,e):(e.isMine=!1,e)})));Y("id")?this.setState({userId:t,postId:e,postTitle:n.title,postText:n.text,postComments:a}):window.location="/login"}},{key:"render",value:function(){return Object(K.jsxs)("div",{children:[Object(K.jsx)(U,{}),Object(K.jsx)(Nt,{title:this.state.postTitle,text:this.state.postText,comments:this.state.postComments,commentText:this.state.commentText,metod:this.handleChangeCommentText,submit:this.handleSubmit})]})}}]),n}(i.a.Component);function Bt(){return Object(K.jsxs)(s.a,{children:[Object(K.jsx)(c.a,{path:"/",exact:!0,component:it}),Object(K.jsx)(c.a,{path:"/registration",component:ct}),Object(K.jsx)(c.a,{path:"/login",component:ut}),Object(K.jsx)(c.a,{path:"/profile/id=:id",component:gt}),Object(K.jsx)(c.a,{path:"/addPosts",component:wt}),Object(K.jsx)(c.a,{path:"/comments/post_id=:id",component:kt})]})}var Tt=function(){return Object(K.jsx)(Bt,{})},Pt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,147)).then((function(e){var n=e.getCLS,a=e.getFID,i=e.getFCP,r=e.getLCP,o=e.getTTFB;n(t),a(t),i(t),r(t),o(t)}))};o.a.render(Object(K.jsx)(i.a.StrictMode,{children:Object(K.jsx)(Tt,{})}),document.getElementById("root")),Pt()}},[[97,1,2]]]);
//# sourceMappingURL=main.2c7c73a4.chunk.js.map